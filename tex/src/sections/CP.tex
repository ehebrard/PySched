

\begin{frame}
	\frametitle{Constraint vs Algorithm}
	
	\begin{itemize}
		\item Constraints \& models written using {\it variables} symbols (\memph{\stof{i}, \ctof{i}})
		\item Algorithmic rules written using {\it domain} symbols (\memph{\est{i},\lst{i},\ect{i},\lct{i}})
		% \begin{itemize}
		% 	\item In some references ``data'' {\it release/due dates} might be differentiated from ``variables'' {\it earliest start/latest completion times} (not here)
		% \end{itemize}
		\uncover<2-> {
		\item Example: precedence \memph{$i \prec j$}
		\uncover<2-> {
		\begin{itemize}
			\item Constraint predicate:\begin{eqnarray*}
				\memph{\ctof{i} \leq \stof{j}}
			\end{eqnarray*}
			\uncover<3-> {
			\item Algorithmic rules:\begin{eqnarray*}
				\memph{\ect{i} > \est{j} \implies \est{j} = \ect{i}} \\
				\memph{\lst{j} < \lct{i} \implies \lct{i} = \lst{j}} 
			\end{eqnarray*}
			}
		\end{itemize}
		}
		}
		\uncover<4-> {
		\item Notion of \memph{consistency}: constraints are sufficient to define the \memph{result} of propagation
		}
	\end{itemize}
	
	% si:[0,2] ei:[4,6]
	% sj:[4,6] ej:[8,10]
	
	% \forall t & \memph{\ect{i} \geq t \implies \est{j} \geq t} \\
	% & \memph{\lst{j} \leq t \implies \lct{i} \leq t}
	
\end{frame}


\begin{frame}
	\frametitle{Bound consistency}
	
	\begin{columns}
	
	\column{.56\textwidth}
	\begin{myblock}{Constraint \memph{$C$} over variables \memph{${\cal X}$}}
			\begin{itemize}
				\item \memph{$C$}: predicate defining a relation in \memph{$\mathbb{N}^{|{\cal X}|}$}
			\end{itemize}
	\end{myblock}
	
	\uncover<2->{
	\begin{myblock}{Bound support \memph{$\sigma$} of \memph{$x,t$} for $C$ over ${\cal X}$}
			\begin{itemize}
				\item $\sigma: {\cal X} \mapsto \mathbb{N}$ with $\sigma(x)=t$
				\item \memph{valid} $\iff \forall x \in {\cal X}~ \min(x) \leq \sigma(x) \leq \max(x)$ 
				\item \memph{consistent} $\iff C(\sigma({\cal X}))$ 
			\end{itemize}
	\end{myblock}
	}
	
	\column{.02\textwidth}
	
	\column{.42\textwidth}

	Ex: $i \prec j$
	\begin{itemize}
		\item Predicate: \memph{$\ctof{i} \leq \stof{j}$}
		
		\begin{colorschedfigure}{.4}
			\PrintTics{0,5,...,11}{1}
			\PrintGrid{10}{2}
			\uncover<1-2>{
			\ExtensibleVariableTask{0.000000}{10.000000}{4.000000}{4.000000}{1}{0}{A}{$i$}
			\ExtensibleVariableTask{0.000000}{10.000000}{4.000000}{4.000000}{1}{1}{A}{$j$}
			}
			\uncover<3->{
			\ExtensibleVariableTask{0.000000}{6.000000}{4.000000}{4.000000}{1}{0}{A}{$i$}
			\ExtensibleVariableTask{4.000000}{10.000000}{4.000000}{4.000000}{1}{1}{A}{$j$}
			\PrunedExtensibleTask{0.000000}{4.000000}{4.000000}{1}{1}{A}{}
			\PrunedExtensibleTask{6.000000}{4.000000}{4.000000}{1}{0}{A}{}
			}
		\end{colorschedfigure}
		
		\uncover<2->{
		\item Ex.: no valid and consistent bound support for $\ctof{i} = 7$
		\begin{itemize}
			\item consistent: $\langle \ctof{i}:7, \stof{j}:7 \rangle$
			\item valid: $\langle \ctof{i}:7, \stof{j}:6 \rangle$
		\end{itemize}
		}
		
	\end{itemize}

	\end{columns}
	
	\uncover<3->{
	\begin{itemize}
		\item Result of propagation algorithm is entailed by ``{\it bound consistency on $\ctof{i} \leq \stof{j}$}''
		\item Its complexity is not
	\end{itemize}
	}
	
\end{frame}


\begin{frame}
	\frametitle{Resource Constraint}
	
	\begin{itemize}
		\item Very rich taxonomy of resources
		\item Focus on Renewable, discrete, non-interruptible, cumulative resource
	\end{itemize}
	
	\begin{myblock}{A model of {\sc CumulativeResource}}
		\begin{itemize}
			\item \memph{Processing time}: require the resources for at least $\dur{i}$ time \hfill $\stof{i} + \dur{i} \geq \ctof{i}~\forall i$
			\item \memph{Non preemption}: cannot be interrupted \hfill $\stof{i} + \dur{i} \leq \ctof{i}~\forall i$
			\item \memph{Bounds}: release and due dates  \hfill  $\est{i} \leq \stof{i} \leq \ctof{i} \leq \lct{i}~\forall i$
			\item \memph{Resource capacity}: additive, upper bounded resource usage \hfill $\sum_{\stof{i} \leq t \leq \ctof{i}} \demand{i} \leq \capacity~\forall t$
		\end{itemize}
	\end{myblock}
	
	\uncover<2-> {
	\begin{itemize}
		\item {\bf File transfer}; memory bank: \memph{Single-machine} resource (\memph{$\demand{i}=\capacity=1$})
		\uncover<3-> {
		\item {\bf File transfer}; download channel: \memph{m-machine} resource (\memph{$\demand{i}=1, \capacity>1$})
		}
		\uncover<4-> {
		\item {\bf Philae}; battery power threshold: \memph{cumulative} resource (\memph{$\demand{i} \geq 1, \capacity>1$})
		}
	\end{itemize}
	}
	
\end{frame}



\begin{frame}
	\frametitle{Coping with NP-hardness}

	\begin{columns}
		
		\column{.18\textwidth}
		
		\column{.64\textwidth}
		
	\begin{myblock}{A \only<1-2>{model}\only<3->{\memph{decomposition}} of {\sc CumulativeResource}}
		\vspace{-.5cm}
		\begin{eqnarray*}
			\stof{i} + \dur{i} \geq \ctof{i} & \forall i \\
			\stof{i} + \dur{i} \leq \ctof{i} & \forall i \\
			\est{i} \leq \stof{i} \leq \ctof{i} \leq \lct{i} & \forall i \\
			\sum_{\stof{i} \leq t \leq \ctof{i}} \demand{i} \leq \capacity & \forall t
		\end{eqnarray*}
	\end{myblock}
	
	\column{.18\textwidth}
	
	\end{columns}

	\begin{itemize}
		\item The problem {\sc CumulativeResource} is strongly NP-hard
		\begin{itemize}
			\item So is bound consistency, since a bound support is a valid schedule
		\end{itemize}
		\uncover<2->{
		\item \memph{Relaxation}: if the relaxed problem is unsatisfiable, so is the original problem
		\uncover<3->{
		\item \memph{Decomposition}: 
		\begin{itemize}
			\item Enforcing bound consistency on {\sc CumulativeResource} is NP-hard (global support)
			\item Enforcing bound consistency on the model above is polynomial (local supports)
		\end{itemize}
		}
		}
	\end{itemize}	
	
	

	
\end{frame}



% \subsection{Goals}
