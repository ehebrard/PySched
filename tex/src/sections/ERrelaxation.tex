
\begin{frame}
\frametitle{Energetic reasoning}


\begin{itemize}
	\item A lot of different forms and flavours
	\begin{itemize}
		\item Preemptive relaxation
		\item Fully Elastic relaxation
		\item Partialy Elastic relaxation
		\item Edge finding
		\item Energetic reasoning
	\end{itemize}
	\uncover<6->{
		\item Basic idea: view a (set of) task(s) as fluid quantity (\memph{energy})
	}
\end{itemize}


\begin{center}
	\begin{colorschedfigure}{.55}
		\input{ex/overload_checking.tex}
	\end{colorschedfigure}
\end{center}

\end{frame}


\begin{frame}
\frametitle{Preemptive relaxation \mycite{FedergruenGroenevelt86}}

\begin{itemize}
	\item Tasks can be interrupted (cut in vertical slices)
\end{itemize}
\begin{eqnarray*}
	\forall i \forall t \not\in [\est{i},\lct{i}) & \patvar{i}{t} = 0 & {\hfill \rm bounds} \label{pr:eq:bound} \\
	\forall t & {\sum_{i} {\demand{i}}\patvar{i}{t} \leq {\capacity}} & {\hfill \rm resource~capacity} \\
	\forall i & \sum_{t} \patvar{i}{t} = \dur{i} & {\hfill \rm processing~times} \label{pr:eq:dur}
\end{eqnarray*}

\begin{columns}

	\column{.7\textwidth}

\begin{myblock}{Properties of the preemptive relaxation}
	\begin{itemize}
	\item NP-Hard, can encode {\sc BinPacking} even with unit processing times
	\begin{itemize}
		\item Capacity = number of bins
		\item Consumption = item size
	\end{itemize}
	\item Easy when \memph{$\forall i~\demand{i}=1$}: \memph{Maximum flow} formulation
	\begin{itemize}
		\item {\sc Gcc} when \memph{$\forall i,~\dur{i}=1$}
		\item {\sc AllDifferent} when \memph{$\forall i,~\dur{i}=1$} and \memph{$\capacity=1$}
	\end{itemize}
	\end{itemize}
\end{myblock}


	\column{.3\textwidth}

	\begin{center}
		\begin{colorschedfigure}{.55}
			\input{ex/binpacking_example.tex}
		\end{colorschedfigure}
	\end{center}

\end{columns}

\end{frame}



\begin{frame}
\frametitle{Fully elastic relaxation \mycite{BaptisteEtAl98}}

\begin{itemize}
	\item Tasks can be interrupted and resource usage is given by a total \memph{energy}
	\item Replace Boolean ``in process'' \memph{\patvar{i}{t}} variables by integer ``usage'' \memph{\usagevar{i}{t}} variables in \memph{$[0,\demand{i}]$}
\end{itemize}
\begin{eqnarray*}
	\forall i \forall t \not\in [\est{i},\lct{i}) & \usagevar{i}{t} = 0 & {\hfill \rm bounds} \label{pr:eq:bound} \\
	\forall t & {\sum_{i} \memph{\usagevar{i}{t}} \leq {\capacity}} & {\hfill \rm resource~capacity} \\
	\forall i & \memph{\sum_{t} \usagevar{i}{t} = \dur{i}\demand{i}} & {\hfill \rm energy} \label{pr:eq:dur}
\end{eqnarray*}


\begin{myblock}{Properties of the fully elastic relaxation}
	\begin{itemize}
	\item Polynomial
	\begin{itemize}
		\item When \memph{$\capacity=1$}, equivalent to preemptive relaxation and solved by \memph{Jackson Preemptive Schedule}~\mycite{Jackson55} in $O(n \log n)$
		\item When \memph{$\capacity>1$}: equivalent reformulation to the \memph{$\capacity=1$} case
		\begin{itemize}
			\item The horizon / time windows are multiplied by \memph{$\capacity$}
			\item The processing time \memph{$\dur{i}$} is multiplied  \memph{$\demand{i}$}
		\end{itemize}
	\end{itemize}
	% \item Transformation to the case where
	% \item \memph{Maximum flow} formulation
	% \begin{itemize}
	% 	\item {\sc Gcc} when \memph{$\forall i,~\dur{i}=1$}
	% 	\item {\sc Alldifferent} when \memph{$\capacity=1$} and \memph{$\forall i,~\dur{i}=1$}
	% \end{itemize}
	
	\end{itemize}
\end{myblock}

\end{frame}



\begin{frame}
\frametitle{Partially elastic relaxation \mycite{BaptisteEtAl98}}

\begin{itemize}
	\item Strengthen the relaxation: constraint on energy of nested intervals
\end{itemize}
\begin{eqnarray*}
	\grayed{\forall i \forall t \not\in [\est{i},\lct{i})} & \grayed{\usagevar{i}{t} = 0} & {\hfill \rm bounds} \label{pr:eq:bound} \\
	\grayed{\forall t} & \grayed{\sum_{i} {\usagevar{i}{t}} \leq {\capacity}} & {\hfill \rm resource~capacity} \\
	\grayed{\forall i} & \grayed{\sum_{t} \usagevar{i}{t} = \dur{i}\demand{i}} & {\hfill \rm energy} \label{pr:eq:dur} \\
	\forall i \forall t \in [\est{i},\lct{i}) & \memph{\sum_{x < t} \usagevar{i}{t} \leq \demand{i}(t - \est{i})} \\
	\forall i \forall t \in [\est{i},\lct{i}) & \memph{\sum_{x \geq t} \usagevar{i}{t} \leq \demand{i}(\lct{i} - t)}
\end{eqnarray*}


\begin{myblock}{Properties of the partially elastic relaxation}
	\begin{itemize}
		\item Equivalent to the {\sc SubsetSum} bound \mycite{Perregaard95}
		\item Equivalent to the preemptive energetic reasoning \mycite{LopezPhD,LopezEtAl92}
		\item Algorithm in $O(n^2 \log n)$ \mycite{BaptistePhD}
	\end{itemize}
\end{myblock}

\end{frame}





